<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä</title>
  <link href="../static/css/styles.css" rel="stylesheet" th:href="@{/css/styles.css}">
  <link href="../static/css/transactions.css" rel="stylesheet" th:href="@{/css/transactions.css}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
</head>
<body>
<!-- –ü–ª–∞–≤–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ–Ω–∞ -->
<div class="floating-elements">
  <div class="floating-element"></div>
  <div class="floating-element"></div>
  <div class="floating-element"></div>
</div>

<div class="app-container">
  <!-- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–µ–Ω—é -->
  <nav class="sidebar">
    <div class="logo">
      <h2>üí∞ –§–∏–Ω–∞–Ω—Å—ã</h2>
    </div>
    <ul class="nav-menu">
      <li class="nav-item">
        <a class="nav-link" href="/">
          <span class="nav-icon">üìä</span>
          –î–∞—à–±–æ—Ä–¥
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/banks">
          <span class="nav-icon">üè¶</span>
          –ë–∞–Ω–∫–∏
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/currencies">
          <span class="nav-icon">üí∞</span>
          –í–∞–ª—é—Ç—ã
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/accounts">
          <span class="nav-icon">üí≥</span>
          –°—á–µ—Ç–∞
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/transactions">
          <span class="nav-icon">üîÑ</span>
          –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/analytics">
          <span class="nav-icon">üìà</span>
          –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
        </a>
      </li>
    </ul>
  </nav>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="main-content">
    <div class="header">
      <h1>üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏</h1>
      <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –¥–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã –∏ –ø–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏</p>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
    <div class="controls">
      <button class="btn btn-primary" onclick="openTransactionModal()">
        ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
      </button>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
    <div class="content-card">
      <div class="content-header">
        <div class="content-header-top">
          <h3>–°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</h3>
          <div class="filter-options">
            <label class="checkbox-label active-only-checkbox">
              <input checked class="checkbox-input" id="activeOnly" type="checkbox">
              <span class="checkbox-custom"></span>
              <span class="checkbox-text">–¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ</span>
            </label>
          </div>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filters-container">
          <div class="filter-group account-filter">
            <label class="filter-label">–°—á–µ—Ç–∞</label>
            <select class="choices-multiple" id="accountFilter" multiple>
              <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </select>
          </div>

          <div class="filter-group">
            <label class="filter-label">–ü–µ—Ä–∏–æ–¥</label>
            <div class="date-range">
              <input type="date" class="date-input" id="dateFrom" placeholder="–ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞">
              <span class="date-separator">‚Äî</span>
              <input type="date" class="date-input" id="dateTo" placeholder="–ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞">
            </div>
          </div>

          <div class="filter-group">
            <label class="filter-label">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</label>
            <select class="filter-select" id="typeFilter">
              <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
              <option value="INCOME">üìà –î–æ—Ö–æ–¥</option>
              <option value="EXPENSE">üìâ –†–∞—Å—Ö–æ–¥</option>
              <option value="TRANSFER">üîÑ –ü–µ—Ä–µ–≤–æ–¥</option>
            </select>
          </div>

          <div class="filters-actions">
            <button class="btn btn-secondary" onclick="applyFilters()">
              <span class="btn-icon">‚úÖ</span>
              –ü—Ä–∏–º–µ–Ω–∏—Ç—å
            </button>
            <button class="btn btn-outline" onclick="resetFilters()">
              <span class="btn-icon">üîÑ</span>
              –°–±—Ä–æ—Å–∏—Ç—å
            </button>
          </div>
        </div>

        <div class="search-box">
          <input class="search-input" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é..." type="text">
        </div>
      </div>
      <div class="content-list" id="transactionsList">
        <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π...</div>
      </div>
    </div>
  </main>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
<div class="modal" id="transactionModal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é</h3>
      <span class="close" onclick="closeTransactionModal()">&times;</span>
    </div>
    <div class="modal-body">
      <form id="transactionForm">
        <input id="transactionId" type="hidden">
        <div class="form-group">
          <label for="transactionAccount">–°—á–µ—Ç *</label>
          <select class="form-input" id="transactionAccount" required>
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—á–µ—Ç</option>
          </select>
        </div>
        <div class="form-group">
          <label for="transactionType">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ *</label>
          <select class="form-input" id="transactionType" required>
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
            <option value="INCOME">–î–æ—Ö–æ–¥</option>
            <option value="EXPENSE">–†–∞—Å—Ö–æ–¥</option>
            <option value="TRANSFER">–ü–µ—Ä–µ–≤–æ–¥</option>
          </select>
        </div>
        <div class="form-group">
          <label for="transactionAmount">–°—É–º–º–∞ *</label>
          <input class="form-input" id="transactionAmount" placeholder="0.00" required
                 type="number" step="0.01" min="0">
        </div>
        <div class="form-group">
          <label for="transactionDate">–î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ *</label>
          <input class="form-input" id="transactionDate" required type="date">
        </div>
        <div class="form-group">
          <label for="transactionDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
          <textarea class="form-input" id="transactionDescription"
                    placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏" rows="3"></textarea>
        </div>
        <div class="form-actions">
          <button class="btn btn-danger" onclick="closeTransactionModal()" type="button">
            –û—Ç–º–µ–Ω–∞
          </button>
          <button class="btn btn-success" type="submit">
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
<script src="../static/js/utils.js" th:src="@{/js/utils.js}"></script>
<script src="../static/js/transactions.js" th:src="@{/js/transactions.js}"></script>
</body>
</html>